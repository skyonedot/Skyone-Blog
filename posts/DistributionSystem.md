---
title: 'åˆ†å¸ƒå¼ç³»ç»Ÿ'
date: '2022-11-26'
---

![](https://images.pexels.com/photos/2693529/pexels-photo-2693529.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1)

### åˆ†å¸ƒå¼çŸ¥è¯†ç‚¹

åˆ†å¸ƒå¼ä¸€è‡´æ€§ç®—æ³• é¡¾åæ€ä¹‰, è§£å†³åˆ†å¸ƒå¼çš„ç³»ç»Ÿä¸‹å¦‚ä½•è¾¾æˆä¸€è‡´çš„ç®—æ³•. 

>  ä¸ºä»€ä¹ˆè¦åˆ†å¸ƒå¼? å› ä¸ºæ•°æ®ä¸èƒ½å­˜åœ¨äºå•ä¸ªèŠ‚ç‚¹ä¸Š, å¦åˆ™å®¹æ˜“å‡ºç°å•ç‚¹æ•…éšœ
>
>  ä¸ºä»€ä¹ˆè¦ä¸€è‡´æ€§? å› ä¸ºå¤šä¸ªèŠ‚ç‚¹éœ€è¦ä¿è¯å…·æœ‰ç›¸åŒçš„æ•°æ®

åˆ†å¸ƒå¼æŒ‡çš„æ˜¯éƒ¨ç½²åœ¨ä¸åŒçš„ç½‘ç»œè®¡ç®—æœºä¸Š, å½¼æ­¤ä»…é€šè¿‡æ¶ˆæ¯ä¼ é€’è¿›è¡Œé€šè®¯

---

###### åˆ†å¸ƒå¼ç³»ç»Ÿä¸»è¦å­˜åœ¨ä¸¤ç§é—®é¢˜

1. BFTé—®é¢˜(Byzantine Fault Tolerance)
   - è€ƒè™‘çš„é‡ç‚¹åœ¨äºæ¶æ„èŠ‚ç‚¹çš„å­˜åœ¨ :apple: 
2. CFTé—®é¢˜(Crash Fault Tolerance)
   - è€ƒè™‘çš„é‡ç‚¹åœ¨äºç³»ç»Ÿå´©æºƒæ€§é—®é¢˜, æ¯”å¦‚å•ç‚¹æ•…éšœã€ ç½‘ç»œå»¶è¿Ÿç­‰ç³»ç»Ÿé—®é¢˜ :banana: 

---

###### åˆ†å¸ƒå¼ç³»ç»Ÿçš„è¯·æ±‚

åªæœ‰ä¸‰ç§çŠ¶æ€

1. æˆåŠŸ
2. å¤±è´¥
3. è¶…æ—¶, è¶…æ—¶åˆæœ‰ä¸¤ç§æƒ…å†µ
   1. æ¥æ”¶æ–¹æ ¹æœ¬å°±æ²¡æœ‰æ¥æ”¶åˆ°æ¶ˆæ¯
   2. æ¥æ”¶æ–¹æ¥æ”¶åˆ°äº†, è¿”è¿˜ç»™å‘é€æ–¹çš„æ—¶å€™å‡ºäº†é—®é¢˜

---

###### ACIDäº‹åŠ¡

æŒ‡çš„æ˜¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ(DBMS) åœ¨å†™å…¥æˆ–æ›´æ–°æ—¶, ä¸ºäº†ç¡®ä¿Transactionæ˜¯æ­£ç¡®å¯é çš„, å¿…é¡»æ»¡è¶³çš„å››ä¸ªç‰¹æ€§

1. åŸå­æ€§(Atomicity  Or ä¸å¯åˆ†å‰²æ€§) ------ è¦ä¹ˆéƒ½å®Œæˆ, è¦ä¹ˆéƒ½ä¸å®Œæˆ.
2. ä¸€è‡´æ€§(Consistency) ------ Transactionå¼€å§‹ä»¥å‰æˆ–è€…ç»“æŸä»¥å, æ•´ä¸ªæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´å , å³å†™å…¥çš„ä¿¡æ¯å¿…é¡»ç¬¦åˆæ‰€æœ‰çš„è¦æ±‚.
3. éš”ç¦»æ€§(Isolation, Or ç‹¬ç«‹æ€§) ------ æ•°æ®åº“å…è®¸å¹¶å‘è¯»å†™æˆ–è€…ä¿®æ”¹,  éš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¹¶å‘æ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´
4. æŒä¹…æ€§(Durability) ------ Transaction å®Œæˆä¹‹å, å¯¹äºæ•°æ®çš„ä¿®æ”¹æ˜¯æ°¸ä¹…çš„.

---

###### Baseç†è®º

æŒ‡çš„æ˜¯ä¸ºäº†**è§£å†³å¼ºä¸€è‡´æ€§è€Œå¯¼è‡´çš„å¯ç”¨æ€§é™ä½çš„ä¸€ç§æ–¹æ¡ˆ** 

1. Basically Avaiable, åŸºæœ¬å¯ç”¨, å³åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°æ•…éšœæ—¶, å…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§, 
2. Soft State, è½¯çŠ¶æ€, å³å…è®¸ä¸åŒèŠ‚ç‚¹çš„æ•°æ®å‰¯æœ¬ä¹‹é—´çš„åŒæ­¥è¿‡ç¨‹å­˜åœ¨å»¶è¿Ÿ
3. Eventually consistent, æœ€ç»ˆä¸€è‡´, å³å¼±ä¸€è‡´æ€§

---

###### CAPç†è®º

1. Consistency(ä¸€è‡´æ€§) , åˆ†ä¸ºå¼ºä¸€è‡´æ€§å’Œå¼±ä¸€è‡´æ€§
   1. å¼±ä¸€è‡´æ€§: ä¹Ÿå«æœ€ç»ˆä¸€è‡´æ€§, å³æŸä¸ªèŠ‚ç‚¹æäº¤ä»¥å, ä¸ä¼šç«‹å³æ”¹å˜é›†ç¾¤çŠ¶æ€, ä½†æ˜¯éšç€æ—¶é—´æ¨ç§», æœ€åçš„çŠ¶æ€æ˜¯ä¸€æ ·çš„
      1. æ¨¡å‹: DNSç³»ç»Ÿ, Gossipç³»ç»Ÿ
   2. å¼ºä¸€è‡´æ€§: æ•°æ®ä¸€è‡´æ›´æ–°, æ‰€æœ‰çš„æ•°æ®å˜åŠ¨æ˜¯åŒæ­¥çš„. å³æœ‰ä¸€ä¸ªèŠ‚ç‚¹æ›´æ–°, åˆ™å…¶ä½™èŠ‚ç‚¹ä¸€èµ·æ›´æ–°.
      1. æ¨¡å‹: Paxos, Raft(Multi-Paxos), ZAB(Multi-Paxos)
2. Availability(å¯ç”¨æ€§) æŒ‡çš„æ˜¯ å“åº”æ€§èƒ½
3. Partition tolerance(åˆ†åŒºå®¹é”™æ€§), å¯é æ€§, å³æŸä¸€ç½‘ç»œåˆ†åŒºå‡ºç°æ•…éšœçš„æ—¶å€™, ä»ç„¶éœ€è¦å¯¹å¤–æä¾›æ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡, é™¤éæ•´ä¸ªç³»ç»Ÿå‘ç”Ÿç˜«ç—ª.

**ä»»ä½•åˆ†å¸ƒå¼çš„ç³»ç»Ÿåªèƒ½åŒæ—¶æ»¡è¶³ä¸¤ç‚¹, æ— æ³•ä¸‰è€…å…¼é¡¾**

- CAç³»ç»Ÿ, å³æ”¾å¼ƒP, æŒ‡çš„æ˜¯æ‰€æœ‰çš„æ•°æ®éƒ½æ”¾åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Š, æ²¡æœ‰ç½‘ç»œåˆ†åŒº, æ²¡æœ‰åˆ†å¸ƒå¼, æ‰€ä»¥**å¼ºä¸€è‡´æ€§å’Œå¯ç”¨æ€§å¾—åˆ°æ»¡è¶³**
- CPç³»ç»Ÿ, å³æ”¾å¼ƒA, å³è¦æ±‚åˆ†å¸ƒå¼çš„æƒ…å†µä¸‹, æ•°æ®æ˜¯ä¸€è‡´çš„, ç„¶åä¼šå¯¼è‡´æ— é™çš„å»¶è¿Ÿ, åŒæ­¥çš„æ—¶é—´å¢å¤§
  - åšæŒACIDåŸåˆ™çš„DB ä»¥åŠå¯¹äºç»“æœä¸€è‡´æ€§éå¸¸çœ‹é‡çš„ ä¸€èˆ¬ä¼šé€‰æ‹©è¿™ä¸ª
- APç³»ç»Ÿ, å³æ”¾å¼ƒC, å¹¶ä¸æ˜¯å®Œå®Œå…¨å…¨æ”¾å¼ƒä¸€è‡´æ€§, è€Œæ˜¯ç”¨çš„å¼±ä¸€è‡´æ€§,
  - ä¸€äº›BaseåŸåˆ™çš„æ•°æ®åº“, Cassandra, CouchDB ä¸€èˆ¬æ˜¯è¿™æ ·

> - åŒºå—é“¾ä¸å¯èƒ½ä¸‰è§’: å»ä¸­å¿ƒåŒ–, é«˜å¯ç”¨æ€§, å®‰å…¨æ€§
>
> - è´§å¸ä¸å¯èƒ½ä¸‰è§’: èµ„æœ¬çš„è‡ªç”±æµåŠ¨, å›ºå®šæ±‡ç‡, è´§å¸æ”¿ç­–ç‹¬ç«‹æ€§

---

###### CFTä¸€è‡´æ€§è§£å†³

1. äºŒé˜¶æ®µæäº¤åè®® 2PC

   > 2PCå’Œ3PC å¼•å…¥äº†ä¸¤ä¸ªè§’è‰²
   >
   > - åè°ƒè€…: è´Ÿè´£ç»Ÿä¸€è°ƒåº¦åˆ†å¸ƒå¼èŠ‚ç‚¹çš„è‡ªä¿¡é€»è¾‘ [ä¸€ä¸ª]
   > - å‚ä¸è€…: è¢«è°ƒåº¦çš„åˆ†å¸ƒå¼èŠ‚ç‚¹ [å¤šä¸ª]

   - å…ˆå°è¯•, åæäº¤ 

2. ä¸‰é˜¶æ®µæäº¤åè®® 3PC

   - å…ˆè¯¢é—®, å†æ‰§è¡Œ, æœ€åæäº¤

   > - å°†2PCä¸­çš„ç¬¬ä¸€é˜¶æ®µ, æ‹†æˆäº†å…ˆè¯¢é—®, åœ¨æ‰§è¡Œ
   > - åŒæ—¶åœ¨åè°ƒè€…å’Œå‚ä¸è€…ä¸­å¼•å…¥è¶…æ—¶æœºåˆ¶

3. Paxos

   - 1990å¹´æå‡º, åŸºäºæ¶ˆæ¯ä¼ é€’ä¸”å…·æœ‰é«˜åº¦å®¹é”™æ€§ç‰¹æ€§çš„ä¸€è‡´æ€§ç®—æ³•, å…¬è®¤çš„è§£å†³åˆ†å¸ƒå¼ä¸€è‡´æ€§é—®é¢˜æœ€æœ‰æ•ˆçš„ç®—æ³•ä¹‹ä¸€

   - æœ‰ä¸‰ç§è§’è‰², å¯ä»¥ä¸€ä¸ªèŠ‚ç‚¹å¤šä¸ªè§’è‰²

     - Proposers æå‡ºææ¡ˆ, ææ¡ˆä¿¡æ¯åŒ…æ‹¬ææ¡ˆç¼–å·å’Œæè®®çš„Value
     - Acceptors , å¯¹ææ¡ˆè¿›è¡Œå›å¤, è·å¾—å¤šæ•°æ´¾yesçš„ä¼šè¢«æ‰¹å‡† $\frac{n}{2}+1$
     - learners, åªèƒ½å­¦ä¹ è¢«æ‰¹å‡†çš„ææ¡ˆ

   - æœ‰ä¸¤ä¸ªé˜¶æ®µ, Proposeræç¼–å·ä¸ºNçš„ææ¡ˆ, æ²¡æœ‰å…·ä½“å†…å®¹, è¯·æ±‚Acceptor,  ç„¶å, æå‡ºå…·ä½“å†…å®¹

     > å¦‚æœä¸¤ä¸ªProposer å¤„äºç¬¬ä¸€é˜¶æ®µ, äº’ç›¸æå‡ºç¼–å·æ›´å¤§çš„ææ¡ˆ, ä¼šé™·å…¥æ­»å¾ªç¯,
     >
     > é˜²æ²»æœºåˆ¶: é€‰å‡ºä¸€ä¸ªä¸»è¦çš„proposer
     >
     > å¯ä»¥å‚è€ƒraft ç«é€‰, è°å¿«è°å½“. æˆ–è€… PBFTä¾æ¬¡æˆä¸ºleader

4. Zookeeperçš„ZABåè®®

5. Raft

   > åŠ¨ç”»ç‰ˆæœ¬Raft é“¾æ¥ ğŸ‘‰ [Here](http://thesecretlivesofdata.com/raft/). å¼ºçƒˆæ¨è  :heart:

   1. ä¸¤ä¸ªé˜¶æ®µ, leaderé€‰ä¸¾ å’Œ æ—¥å¿—å¤åˆ¶
   2. ä¸‰ä¸ªè§’è‰²
      - Leader. è´Ÿè´£å‘é€è¦å…±è¯†çš„æ•°æ®
      - Follower å‚ä¸å…±è¯†çš„è§’è‰²
      - Candidate  Followeræ²¡æœ‰æ”¶åˆ°leaderçš„å¿ƒè·³å›åº”, followerä¼šæˆä¸ºcandidate ç”³è¯·æˆä¸ºæ–°çš„leader

---

### åŒºå—é“¾å’Œåˆ†å¸ƒå¼çš„å…³ç³»

1. ä¸€è‡´æ€§ç®—æ³•å’Œå†—ä½™çš„æ•°æ®å­˜å‚¨: å…±è¯†ç®—æ³•å’Œæ•°æ®å­˜å‚¨æ˜¯ä¸¤è€…æœ€ä¸ºç›¸ä¼¼çš„ä¸€ç‚¹, ä½†æ˜¯, ä½†æ˜¯ä»–ä»¬åœ¨ç›®çš„ä¸Šæ˜¯å®Œå…¨ä¸åŒçš„
   - **åŒºå—é“¾çš„ç›®çš„æ˜¯æ„å»ºä¸€ä¸ªå°½å¯èƒ½å»ä¸­å¿ƒåŒ–, æ•°æ®èµ„äº§æ‰€æœ‰æƒçš„æ°¸ä¹…ä¿æŠ¤å’Œè‡ªç”±è½¬è®©çš„ä¸–ç•Œ**
     - **å¹¶ä¸æ˜¯å¯¹å¤–æä¾›æŸé¡¹æœåŠ¡, è€Œæ˜¯å¯¹å†…æ„å»ºèµ„äº§ä¸–ç•Œ**
   - åˆ†å¸ƒå¼æ•°æ®åº“çš„ç›®çš„è¿™æ˜¯æ„å»ºä¸€ä¸ªé€»è¾‘ä¸­å¿ƒ, è¿™ä¸ªä¸­å¿ƒå¯ä»¥å¯¹å¤–æä¾›å°½å¯èƒ½çš„é«˜æ€§èƒ½, ä½æˆæœ¬å’Œæ‰©å±•æ€§å¥½çš„æœåŠ¡
2. ä¸å¯èƒ½ä¸‰è§’
   1. åŒºå—é“¾çš„ä¸å¯èƒ½ä¸‰è§’æ˜¯å®‰å…¨, å»ä¸­å¿ƒåŒ–, å¯æ‰©å±•æ€§
   2. åˆ†å¸ƒå¼æ•°æ®åº“è¿™æ˜¯ å¯¹ä¸šåŠ¡çš„æ”¯æŒåº¦, å·¥ç¨‹å®ç°å¤æ‚åº¦ ä»¥åŠ ç¡¬ä»¶è¦æ±‚
3. ä¸€è‡´æ€§å«ä¹‰æ˜¯ä¸ä¸€æ ·çš„
   1. åŒºå—é“¾çš„ä¸€è‡´æ€§æŒ‡çš„æ˜¯å¤šä¸ªèŠ‚ç‚¹å¯¹åŒä¸€ä¸ªæ•°æ®çŠ¶æ€çš„å…±åŒç»´æŠ¤
   2. åˆ†å¸ƒå¼æ•°æ®åº“çš„ä¸€è‡´æ€§åˆ™æ˜¯å¤šä¸ªæ•°æ®å‰¯æœ¬å¯¹å¤–çš„å‘ˆç°
4. å…±è¯†ç®—æ³•æ˜¯ä¸ä¸€æ ·çš„
   1. åŒºå—é“¾è€ƒè™‘çš„æ˜¯BFT, ä¸è¶…è¿‡1/3
   2. åˆ†å¸ƒå¼æ•°æ®åº“è€ƒè™‘çš„æ˜¯CFT, ä¸è¶…è¿‡1/2

---

PBFTçš„ä¸‰åˆ†ä¹‹ä¸€

è¿™é‡Œè®²ä¸€ä¸‹ä¸ºä»€ä¹ˆPBFTçš„ä½œæ¶èŠ‚ç‚¹æ•°é‡ä¸èƒ½è¶…è¿‡1/3

é¢„å…ˆçŸ¥è¯†

1. æ¯ä¸€ä¸ªèŠ‚ç‚¹åªèƒ½åŒæ—¶å‚åŠ ä¸€è½®æŠ•ç¥¨, å³æœªå‡ºç»“æœæ—¶, è¯¥èŠ‚ç‚¹æ˜¯lockçš„çŠ¶æ€
2. ä½œæ¶èŠ‚ç‚¹çš„æ•°é‡ä¸ºf

ä½œæ¶èŠ‚ç‚¹æ•°é‡ä¸ºf, é‚£ä¹ˆ å–„è‰¯èŠ‚ç‚¹æœ€èµ·ç è¦ä¸ºf+1, è¿˜è¦ç»™æ•…éšœèŠ‚ç‚¹é¢„ç•™fçš„åé¢

> æ•…éšœèŠ‚ç‚¹çš„é¢„ç•™åé¢æ˜¯f, å³æ•…éšœçš„èŠ‚ç‚¹ä¸èƒ½è¶…è¿‡ä½œæ¶èŠ‚ç‚¹æ•°é‡, å› ä¸ºè¶…è¿‡ä¹‹å, æ— æ³•è¾¾åˆ°2/3çš„æŠ•ç¥¨, å³æ— æ³•è¾¾æˆå…±è¯†, 
>
> ä¹‹æ‰€ä»¥è¯´é¢„ç•™æ˜¯å› ä¸º, å®ƒåœ¨æ¯è½®çš„æ•…éšœèŠ‚ç‚¹å¯ä»¥å°äºç­‰äºf, 
>
> - å¦‚æœå°äºf, é‚£ä¹ˆå…¶ä½™çš„åˆ™æ˜¯è¯šå®çš„èŠ‚ç‚¹, f+1 + N, è¿™æ ·æ›´å¥½. 
> - å¦‚æœç­‰äºf, é‚£ä¹ˆåœ¨è¿™è½®æŠ•ç¥¨ä¸­, æ”¶é›†åˆ°äº†2f+1, å…¶ä¸­f+1æ˜¯è¯šå®, é‚£ä¹ˆç»“æœä¹Ÿæ˜¯å¥½çš„

**é‚£æˆ‘ä»¬å†è¯´åŒèŠ±è¿™ä¸ªé—®é¢˜, å³åœ¨æŸä¸ªæŠ•ç¥¨è¿›è¡Œä¸­, ä¼šä¸ä¼šæœ‰ä¸€ä¸ªåŒé«˜åº¦çš„ æŠ•ç¥¨äº§ç”Ÿ **

> Tendermint

é¦–å…ˆè¯´, ä¸ä¼š, å› ä¸ºåœ¨è¿™ä¸€è½®ä¸­æŠ•ç¥¨çš„èŠ‚ç‚¹æ˜¯é”æ­»çš„çŠ¶æ€, æ— æ³•ä¸ºè¿›è¡Œå…¶ä»–æŠ•ç¥¨. 

å½“validator commitäº†åŒºå—B, é‚£ä¹ˆå°±æœ‰å¤§äº2/3çš„èŠ‚ç‚¹åœ¨Rè½®æŠ•äº†precommit, è¿™è¡¨æ˜è‡³å°‘æœ‰

è¿™é‡Œ, æˆ‘è¿˜æ˜¯æ²¡å¤ªæ‡‚ https://zhuanlan.zhihu.com/p/87370262

---

### PBFT

æ‹œå åº­å®¹é”™ç®—æ³•(Byzantine Fault Tolerant)é¢å‘æ‹œå åº­é—®é¢˜çš„å®¹é”™ç®—æ³•ï¼Œè§£å†³çš„æ˜¯åœ¨ç½‘ç»œé€šä¿¡å¯é ï¼Œä½†èŠ‚ç‚¹å¯èƒ½æ•…éšœå’Œä½œæ¶æƒ…å†µä¸‹å¦‚ä½•è¾¾æˆå…±è¯† 

æœ€æ—©çš„è®¨è®ºå‡ºç°äº1982å¹´çš„ The Byzantine Generals Problem, çŸ¥é“1999å¹´PBFTçš„æå‡º, è®¡ç®—å¤æ‚åº¦å¤§å¤§é™ä½

BFTç®—æ³•æ¶æ„èŠ‚ç‚¹éƒ½ä¸å¯ä»¥è¶…è¿‡ä¸‰åˆ†ä¹‹ä¸€

PBFTè§£å†³çš„ä»€ä¹ˆ? 

- è§£å†³1982å¹´æå‡ºçš„BFP, åŸå§‹çš„é€šè®¯æ•ˆç‡è¿‡æ…¢
- è§£å†³çš„é€šè®¯æ•ˆç‡å’Œå¼‚æ­¥ç¯å¢ƒçš„é—®é¢˜
- clientå‘é€ç»™primary, ä¸‰é˜¶æ®µå…±è¯†, clientå›æ”¶
- view-changeè¿‡ç¨‹

---

### TenderMint

**å…±è¯†å±‚å’Œåº”ç”¨å±‚åˆ†å¼€**. åˆ†ä¸ºä¸¤éƒ¨åˆ†

> å…±è¯†å±‚, åº”ç”¨å±‚, ç½‘ç»œå±‚,. Tendermintæ˜¯æŠŠåº”ç”¨æ‹¿å‡ºæ¥
>
> Data available, consensus, (settlement, exeuction), Celistiaæ˜¯å§DAæ‹¿å‡ºæ¥

1. Tendermint Core è´Ÿè´£å…±è¯† è´¦æœ¬
2. Application BlockChain Interface, ABCI, è´Ÿè´£åº”ç”¨å±‚å»ºè®¾. æ”¯æŒä»»ä½•è¯­è¨€çš„äº¤æ˜“å¤„ç†å®ç°

å…ˆè¯´TenderMintCore, **å±äºPBFTçš„å˜ç§, ä½†æ˜¯å¼•å…¥äº†é”å®šæœºåˆ¶**

æ•´ä¸ªç³»ç»Ÿä¸­çš„èŠ‚ç‚¹åˆ†ä¸ºä¸¤ç±»

- Validator è´Ÿè´£Propose, Voteç­‰
- Non Validator åŒæ­¥çŠ¶æ€ ä¼ é€’æ¶ˆæ¯

èŠ‚ç‚¹ä¸èŠ‚ç‚¹ä¹‹é—´æ˜¯Gossipåè®® ç›¸äº’åŒæ­¥ä¿¡æ¯æˆ–å…±è¯†çŠ¶æ€, èŠ‚ç‚¹ä¸ä¸€å®šæ˜¯ä¸¤ä¸¤ç›¸è¿

å…±è¯†è¿‡ç¨‹æ˜¯è‹¥å¹²ä¸ªRound åŠ ä¸ŠCommit, NewHeight, å¦‚ä¸‹å›¾æ‰€ç¤º

Roundé‡Œé¢ä¼šåŒ…æ‹¬

- Propose
- Prevote
- Precommit

å¦‚æœä¸€è½®ä¸­æœ‰å…ƒç´ æ²¡æœ‰æ»¡è¶³, è¿™ä¼šå¼€å§‹æ–°ä¸€æœŸRound

![](https://raw.githubusercontent.com/skyonedot/picture-host/master/20221128225125.png)



#### TenderMintå’ŒPBFT

- ç›¸åŒç‚¹
  - åŒå±BFTä½“ç³».
  - æŠ—1/3æ‹œå åº­èŠ‚ç‚¹æ”»å‡».
  - ä¸‰é˜¶æ®µæäº¤, ç¬¬ä¸€é˜¶æ®µå¹¿æ’­äº¤æ˜“(åŒºå—), åä¸¤é˜¶æ®µå¹¿æ’­ç­¾å(ç¡®è®¤).
    - Tendermint çš„propose->pre-vote->pre-commit
    - PBFTçš„ pre-prepare, prepare, commit
  - ä¸¤è€…éƒ½éœ€è¦è¾¾åˆ°æ³•å®šäººæ•°æ‰èƒ½æäº¤å—.
- ä¸åŒç‚¹
  - èŠ‚ç‚¹æ¦‚å¿µä¸åŒ, PBFTæ˜¯èŠ‚ç‚¹æ•°é‡,  Tendermintè¿™æ˜¯èŠ‚ç‚¹æƒç›Š
  - PBFTéœ€è¦é¢„è®¾å›ºå®šçš„Validator, è€ŒTendermintæ˜¯å˜åŠ¨çš„ 2/3è®¤è¯çš„
  - å…³äºè¶…è¿‡1/3èŠ‚ç‚¹æ˜¯æ‹œå åº­èŠ‚ç‚¹çš„æƒ…å†µä¸‹
  - PBFTçš„View-Changeæœºåˆ¶





---

### å‚è€ƒæ–‡çŒ®

[åˆ†å¸ƒå¼ä¸€è‡´æ€§ç®—æ³•ï¼Œä½ ç¡®å®šä¸äº†è§£ä¸€ä¸‹](https://juejin.cn/post/6854573216174702605)

[åŒºå—é“¾æ˜¯åˆ†å¸ƒå¼æ•°æ®åº“å—(è§£æåŒºå—é“¾å’Œåˆ†å¸ƒå¼æ•°æ®åº“çš„åŒºåˆ«)](https://www.yuanyuzhouneican.com/article-176750.html)

[Tendermintå…±è¯†åè®®è¯¦è§£](https://juejin.cn/post/6844903973086822408)

[æ·±åº¦è§£æTendermint, å¿«é€Ÿèå…¥Cosmosç”Ÿæ€](https://zhuanlan.zhihu.com/p/38252058)

[Tendermint BFTåè®®](https://zhuanlan.zhihu.com/p/111770050)